!function(){function e(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function t(t,n){t.classList?t.classList.add(n):e(t,n)||(t.className+=" "+n)}function n(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")}function o(o,i){var a=new XMLHttpRequest;a.open("GET","/"+o+".html"),a.onload=function(){if(200===a.status){i.innerHTML=a.responseText;var o=$(".Portfolio__image");o.addEventListener("click",function(){e(o,"scaleImage")?n(o,"scaleImage"):t(o,"scaleImage")}),Satnav.resolve()}else console.log("Request failed.  Returned status of "+a.status)},a.send()}window.$=function(e){return document.querySelector(e)};var i=$(".Home"),a=$(".Work"),r=$(".Work"),s=$(".Navigation"),c=$(".Navigation__secondary"),l=$(".Navigation__secondary a");l.addEventListener("click",function(){window.scrollTo(0,0)}),window.onload=function(){Satnav({html5:!0,matchAll:!0,force:!0}).navigate({path:"/?{page}/?{project}",directions:function(e){console.log("directions received"),n(s,"is-home"),t(c,"moveInUp"),t(i,"moveToLeft"),t(r,"moveToLeft")}}).change(function(l){return console.log(l),""===l?(t(s,"is-home"),e(i,"moveToLeft")&&(n(i,"moveToLeft"),t(i,"moveFromLeft"),t(r,"moveFromLeft"),n(r,"moveToLeft"),n(c,"moveInUp"),setTimeout(function(){a.innerHTML=""},500))):(n(i,"moveFromLeft"),n(r,"moveFromLeft"),o(l,a)),this.defer}).otherwise("/").go()}}(),function(e,t){"use strict";var n,o,i,a,r={},s={},c=[],l={},u={poll:25,html5:!1,force:!1,matchAll:!1};s.setup=function(t){var n=u.html5&&"pushState"in e.history?"popstate":"hashchange";if(u.force&&s.force(),"on"+n in e)s.listen(e,n,t);else{var o=e.location.href;setInterval(function(){var n=e.location.href;o!==n&&(o=n,t.call(e))},u.poll)}},s.force=function(){for(var e=t.getElementsByTagName("a"),n=function(){var e=this.getAttribute("href"),t=s.sanitize(e.substr(e.indexOf("#")+1));t===a&&s.change()},o=0;o<e.length;o++){var i=e[o];i.hasAttribute("href")&&i.getAttribute("href").indexOf("#")!==-1&&s.listen(i,"click",n)}},s.promise=function(){var e=this;e.stack=[],e.then=function(t){e.stack.push(t)},e.resolve=function(){for(;e.stack.length;)return e.stack.shift().call(n)}},s.route=function(e,t,n){var o=[];e="^"+e,e=e.replace(/(\?)?\{([^}]+)\}/g,function(e,t,n){return o.push({name:n,optional:"undefined"!=typeof t}),"([\\w-.]+)?"}).replace(/\//g,"\\/?"),e+="\\/?$",c.push({regex:new RegExp(e),params:o,directions:t,title:n})},s.change=function(){a=s.state();var c=s.match(a);if(c){var l=r;r=c.params;var f=s.dispatch("change",a,r,l),h="function"==typeof c.title?c.title(r):c.title;t.title=h,u.html5&&"pushState"in e.history&&e.history.replaceState(s.extend(r,{hash:a}),h,"/"+a);var d=function(){c.directions.call(n,r)};f instanceof s.promise?i.then(d):d()}else u.matchAll?(s.dispatch("change",a),u.html5&&"pushState"in e.history&&e.history.replaceState({hash:a},t.title,"/"+a)):e.location.hash=o||""},s.sanitize=function(e){return e.replace(/^\//g,"")},s.match=function(e){for(var t in c){var n=c[t],o=e.match(n.regex);if(o){for(var i={},a=1,r=o.length;a<r;a++){if("undefined"==typeof o[a]&&!n.params[a-1].optional)throw new Error("[Satnav] A required route parameter was not defined");"undefined"!=typeof o[a]&&(i[n.params[a-1].name]=o[a])}return{directions:n.directions,params:i,title:n.title}}}},s.dispatch=function(e){var t=Array.prototype.slice.call(arguments,1);return e in l&&l[e].apply(n,t)},s.state=function(){return e.history.state&&e.history.state.hash?e.history.state.hash:s.sanitize(e.location.hash.substr(1))},s.extend=function(e,t){for(var n in t)e[n]=e.hasOwnProperty(n)?e[n]:t[n];return e},s.listen=function(){return e.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:e.attachEvent?function(e,t,n){e.attachEvent("on"+t,function(){n.call(e)},!1)}:void 0}(),n=function(e){return u=s.extend(e,u),u.matchAll&&s.setup(s.change),n},n.defer=function(){return i=new s.promise}(),n.resolve=function(){setTimeout(i.resolve,1)},n.navigate=function(e){if(!("path"in e))throw new Error("[Satnav] A required argument was not defined");return 0!==c.length||u.matchAll||s.setup(s.change),s.route(s.sanitize(e.path),"directions"in e?e.directions:function(){},"title"in e?e.title:t.title),n},n.otherwise=function(e){return o="string"==typeof e?s.sanitize(e):"path"in e?s.sanitize(e.path):"",n},n.change=function(e){return l.change=e,n},n.go=function(){return s.change(),n},"function"==typeof define&&define.amd?define("Satnav",[],function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:e.sN=e.Satnav=n}(window,document);