!function(){function t(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function e(e,n){e.classList?e.classList.add(n):t(e,n)||(e.className+=" "+n)}function n(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("\\b"+e+"\\b","g"),"")}function o(o,i){var a=new XMLHttpRequest;a.open("GET","/"+o+".html"),a.onload=function(){if(200===a.status){i.innerHTML=a.responseText;var o=$(".Portfolio__image");o&&o.addEventListener("click",function(){t(o,"scaleImage")?n(o,"scaleImage"):e(o,"scaleImage")}),Satnav.resolve()}else console.log("Request failed.  Returned status of "+a.status)},a.send()}window.$=function(t){return document.querySelector(t)},window.$$=function(t){return document.querySelectorAll(t)};var i=$(".Home"),a=$(".Work"),r=$(".Work"),s=$(".Navigation"),c=$(".Navigation__secondary"),u=$$(".Navigation__secondary a");u.forEach(function(t){t.addEventListener("click",function(){window.scrollTo(0,0)})}),window.onload=function(){Satnav({html5:!0,matchAll:!0,force:!0}).navigate({path:"/?{page}/?{project}",directions:function(t){n(s,"is-home"),e(c,"moveInUp"),e(i,"moveToLeft"),e(r,"moveToLeft")}}).change(function(u){return console.log(u),""===u?(e(s,"is-home"),t(i,"moveToLeft")&&(n(i,"moveToLeft"),e(i,"moveFromLeft"),e(r,"moveFromLeft"),n(r,"moveToLeft"),n(c,"moveInUp"),setTimeout(function(){a.innerHTML=""},500))):(u.startsWith("work/"),n(i,"moveFromLeft"),n(r,"moveFromLeft"),o(u,a)),this.defer}).otherwise("/").go()}}(),function(t,e){"use strict";var n,o,i,a,r={},s={},c=[],u={},l={poll:25,html5:!1,force:!1,matchAll:!1};s.setup=function(e){var n=l.html5&&"pushState"in t.history?"popstate":"hashchange";if(l.force&&s.force(),"on"+n in t)s.listen(t,n,e);else{var o=t.location.href;setInterval(function(){var n=t.location.href;o!==n&&(o=n,e.call(t))},l.poll)}},s.force=function(){for(var t=e.getElementsByTagName("a"),n=function(){var t=this.getAttribute("href"),e=s.sanitize(t.substr(t.indexOf("#")+1));e===a&&s.change()},o=0;o<t.length;o++){var i=t[o];i.hasAttribute("href")&&i.getAttribute("href").indexOf("#")!==-1&&s.listen(i,"click",n)}},s.promise=function(){var t=this;t.stack=[],t.then=function(e){t.stack.push(e)},t.resolve=function(){for(;t.stack.length;)return t.stack.shift().call(n)}},s.route=function(t,e,n){var o=[];t="^"+t,t=t.replace(/(\?)?\{([^}]+)\}/g,function(t,e,n){return o.push({name:n,optional:"undefined"!=typeof e}),"([\\w-.]+)?"}).replace(/\//g,"\\/?"),t+="\\/?$",c.push({regex:new RegExp(t),params:o,directions:e,title:n})},s.change=function(){a=s.state();var c=s.match(a);if(c){var u=r;r=c.params;var f=s.dispatch("change",a,r,u),h="function"==typeof c.title?c.title(r):c.title;e.title=h,l.html5&&"pushState"in t.history&&t.history.replaceState(s.extend(r,{hash:a}),h,"/"+a);var d=function(){c.directions.call(n,r)};f instanceof s.promise?i.then(d):d()}else l.matchAll?(s.dispatch("change",a),l.html5&&"pushState"in t.history&&t.history.replaceState({hash:a},e.title,"/"+a)):t.location.hash=o||""},s.sanitize=function(t){return t.replace(/^\//g,"")},s.match=function(t){for(var e in c){var n=c[e],o=t.match(n.regex);if(o){for(var i={},a=1,r=o.length;a<r;a++){if("undefined"==typeof o[a]&&!n.params[a-1].optional)throw new Error("[Satnav] A required route parameter was not defined");"undefined"!=typeof o[a]&&(i[n.params[a-1].name]=o[a])}return{directions:n.directions,params:i,title:n.title}}}},s.dispatch=function(t){var e=Array.prototype.slice.call(arguments,1);return t in u&&u[t].apply(n,e)},s.state=function(){return t.history.state&&t.history.state.hash?t.history.state.hash:s.sanitize(t.location.hash.substr(1))},s.extend=function(t,e){for(var n in e)t[n]=t.hasOwnProperty(n)?t[n]:e[n];return t},s.listen=function(){return t.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:t.attachEvent?function(t,e,n){t.attachEvent("on"+e,function(){n.call(t)},!1)}:void 0}(),n=function(t){return l=s.extend(t,l),l.matchAll&&s.setup(s.change),n},n.defer=function(){return i=new s.promise}(),n.resolve=function(){setTimeout(i.resolve,1)},n.navigate=function(t){if(!("path"in t))throw new Error("[Satnav] A required argument was not defined");return 0!==c.length||l.matchAll||s.setup(s.change),s.route(s.sanitize(t.path),"directions"in t?t.directions:function(){},"title"in t?t.title:e.title),n},n.otherwise=function(t){return o="string"==typeof t?s.sanitize(t):"path"in t?s.sanitize(t.path):"",n},n.change=function(t){return u.change=t,n},n.go=function(){return s.change(),n},"function"==typeof define&&define.amd?define("Satnav",[],function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:t.sN=t.Satnav=n}(window,document);