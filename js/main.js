!function(){function t(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function e(e,n){e.classList?e.classList.add(n):t(e,n)||(e.className+=" "+n)}function n(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("\\b"+e+"\\b","g"),"")}function i(t,e){var n=new XMLHttpRequest;n.open("GET","/"+t+".html"),n.onload=function(){200===n.status?e.innerHTML=n.responseText:alert("Request failed.  Returned status of "+n.status)},n.send()}window.$=function(t){return document.querySelector(t)};var a=$(".Home"),o=$(".Work"),r=$(".Work");$(".Left-pane__content");window.onload=function(){Satnav({html5:!0,matchAll:!0}).navigate({path:"/?{filter}/?{page}",directions:function(t){console.log("directions received")}}).change(function(s){""===s?t(a,"moveToLeft")&&(n(a,"moveToLeft"),e(a,"moveFromLeft"),e(r,"moveFromLeft"),n(r,"moveToLeft"),setTimeout(function(){o.innerHTML=""},500)):(n(a,"moveFromLeft"),e(a,"moveToLeft"),n(r,"moveFromLeft"),e(r,"moveToLeft"),i(s,o))}).otherwise("/pug-postcss").go()}}(),function(t,e){"use strict";var n,i,a,o,r={},s={},c=[],u={},f={poll:25,html5:!1,force:!1,matchAll:!1};s.setup=function(e){var n=f.html5&&"pushState"in t.history?"popstate":"hashchange";if(f.force&&s.force(),"on"+n in t)s.listen(t,n,e);else{var i=t.location.href;setInterval(function(){var n=t.location.href;i!==n&&(i=n,e.call(t))},f.poll)}},s.force=function(){for(var t=e.getElementsByTagName("a"),n=function(){var t=this.getAttribute("href"),e=s.sanitize(t.substr(t.indexOf("#")+1));e===o&&s.change()},i=0;i<t.length;i++){var a=t[i];a.hasAttribute("href")&&a.getAttribute("href").indexOf("#")!==-1&&s.listen(a,"click",n)}},s.promise=function(){var t=this;t.stack=[],t.then=function(e){t.stack.push(e)},t.resolve=function(){for(;t.stack.length;)return t.stack.shift().call(n)}},s.route=function(t,e,n){var i=[];t="^"+t,t=t.replace(/(\?)?\{([^}]+)\}/g,function(t,e,n){return i.push({name:n,optional:"undefined"!=typeof e}),"([\\w-.]+)?"}).replace(/\//g,"\\/?"),t+="\\/?$",c.push({regex:new RegExp(t),params:i,directions:e,title:n})},s.change=function(){o=s.state();var c=s.match(o);if(c){var u=r;r=c.params;var l=s.dispatch("change",o,r,u),h="function"==typeof c.title?c.title(r):c.title;e.title=h,f.html5&&"pushState"in t.history&&t.history.replaceState(s.extend(r,{hash:o}),h,"/"+o);var p=function(){c.directions.call(n,r)};l instanceof s.promise?a.then(p):p()}else f.matchAll?(s.dispatch("change",o),f.html5&&"pushState"in t.history&&t.history.replaceState({hash:o},e.title,"/"+o)):t.location.hash=i||""},s.sanitize=function(t){return t.replace(/^\//g,"")},s.match=function(t){for(var e in c){var n=c[e],i=t.match(n.regex);if(i){for(var a={},o=1,r=i.length;o<r;o++){if("undefined"==typeof i[o]&&!n.params[o-1].optional)throw new Error("[Satnav] A required route parameter was not defined");"undefined"!=typeof i[o]&&(a[n.params[o-1].name]=i[o])}return{directions:n.directions,params:a,title:n.title}}}},s.dispatch=function(t){var e=Array.prototype.slice.call(arguments,1);return t in u&&u[t].apply(n,e)},s.state=function(){return t.history.state&&t.history.state.hash?t.history.state.hash:s.sanitize(t.location.hash.substr(1))},s.extend=function(t,e){for(var n in e)t[n]=t.hasOwnProperty(n)?t[n]:e[n];return t},s.listen=function(){return t.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:t.attachEvent?function(t,e,n){t.attachEvent("on"+e,function(){n.call(t)},!1)}:void 0}(),n=function(t){return f=s.extend(t,f),f.matchAll&&s.setup(s.change),n},n.defer=function(){return a=new s.promise}(),n.resolve=function(){setTimeout(a.resolve,1)},n.navigate=function(t){if(!("path"in t))throw new Error("[Satnav] A required argument was not defined");return 0!==c.length||f.matchAll||s.setup(s.change),s.route(s.sanitize(t.path),"directions"in t?t.directions:function(){},"title"in t?t.title:e.title),n},n.otherwise=function(t){return i="string"==typeof t?s.sanitize(t):"path"in t?s.sanitize(t.path):"",n},n.change=function(t){return u.change=t,n},n.go=function(){return s.change(),n},"function"==typeof define&&define.amd?define("Satnav",[],function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:t.sN=t.Satnav=n}(window,document);
